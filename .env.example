# =============================================================================
# Biomedical Knowledge Platform - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the values

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://biomedical:dev_password@localhost:5432/knowledge_platform
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# -----------------------------------------------------------------------------
# AWS Configuration
# -----------------------------------------------------------------------------
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# For local development with LocalStack
AWS_ENDPOINT_URL=http://localhost:4566
USE_LOCALSTACK=true

# S3 Buckets
S3_BUCKET_RAW_DOCUMENTS=biomedical-raw-documents
S3_BUCKET_PROCESSED_CHUNKS=biomedical-processed-chunks

# SQS Queues
SQS_INGESTION_QUEUE_URL=http://localhost:4566/000000000000/ingestion-queue
SQS_DLQ_URL=http://localhost:4566/000000000000/ingestion-dlq

# -----------------------------------------------------------------------------
# AWS Bedrock Configuration
# -----------------------------------------------------------------------------
BEDROCK_EMBEDDING_MODEL_ID=amazon.titan-embed-text-v1
BEDROCK_LLM_MODEL_ID_SIMPLE=anthropic.claude-3-haiku-20240307-v1:0
BEDROCK_LLM_MODEL_ID_COMPLEX=anthropic.claude-3-sonnet-20240229-v1:0

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
ENVIRONMENT=development
LOG_LEVEL=DEBUG
LOG_FORMAT=json

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1

# -----------------------------------------------------------------------------
# Ingestion Service Configuration
# -----------------------------------------------------------------------------
INGESTION_BATCH_SIZE=10
INGESTION_MAX_RETRIES=3
INGESTION_VISIBILITY_TIMEOUT=300

# Chunking Configuration
CHUNK_MAX_TOKENS=512
CHUNK_OVERLAP_TOKENS=200

# -----------------------------------------------------------------------------
# Retrieval Service Configuration
# -----------------------------------------------------------------------------
RETRIEVAL_DEFAULT_LIMIT=10
RETRIEVAL_MAX_LIMIT=100
RETRIEVAL_CACHE_TTL=3600

# Hybrid Search Weights
SEARCH_VECTOR_WEIGHT=0.7
SEARCH_KEYWORD_WEIGHT=0.3

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_SEARCH_PER_MINUTE=100
RATE_LIMIT_CHAT_PER_MINUTE=20

# -----------------------------------------------------------------------------
# Observability
# -----------------------------------------------------------------------------
ENABLE_XRAY_TRACING=false
METRICS_ENABLED=true
